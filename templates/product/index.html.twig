{% extends 'base.html.twig' %}

{% block title %}product
{% endblock %}

{% block body %}
	<div class="container">
		{% for flash in app.flashes("Info") %}
			<p class="alert alert-success">{{ flash}}</p>
		{% endfor %}
		{% for flash in app.flashes("Error") %}
			<p class="alert alert-danger">{{ flash}}</p>
		{% endfor %}
		<a class="btn btn-primary" href="{{ path ('product_create') }}">Create a new product</a>
		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">Name</th>
					<th scope="col">Image</th>
					<th scope="col">Price</th>

					<th scope="col" class="text-center">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for product in products %}
					<tr>
						<td scope="row">{{product.id}}</td>
						<td scope="row">{{product.name}}</td>
						<td scope="row">
							<img src="{{asset ('images/products/'~ product.image)}}" width="80px" height="120px">
						</td>
						<td scope="row">{{product.price}}</td>
						<td scope="row">
							<a class="btn btn-primary " href="{{ path ('product_detail',{'id': product.id}) }}">Details</a>
							<a class="btn btn-warning " href="{{ path ('product_update',{'id': product.id}) }}">Edit</a>
							<a class="btn btn-danger " href="{{ path ('product_delete',{'id': product.id})}}" onclick="return confirm('Are you sure you want to delete this product?')">Delete</a>
						</td>
					</tr>
				{% endfor %}

			</tbody>
		</table>
	</div>
{% endblock %}
